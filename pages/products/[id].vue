<template>
  <header>
    <Navigation />
  </header>

  <!--  -->
  <main>

    <!--  -->
    <div
      style="
        position: relative;
        max-width: 1200px;
        margin: 0 auto;
        padding-top: 8rem
      "
    >
      <!-- <p>{{ $route.params}}</p> -->
      
      <div style="display: flex; justify-content: space-between; align-items: center">
        <h2>{{ product.model }}</h2>

        <p style="font-size: 1.5rem;">Ноты: {{ product.notes }}</p>
      </div>

      <div style="display: flex; justify-content: space-between; align-items: center; height: 100vh;">

        <!--  -->
        <div style="flex: 1;">
          <img src="/img/UNIDRUM-1.3-Minor.png" alt="">
        </div>

        <!--  -->
        <div style="flex: 1; background-color: gray; display: flex; flex-direction: column;">
          <!-- <div>
            Ноты
            C3 E3 G3 B3 C4 D4 F#4 G4 B4
          </div> -->
          <div>
            Тональность
            C
          </div>
          <div>
            Вес
            5.9 кг
          </div>
          <div>
            Размеры
            51 см
            Высота
            17 см
          </div>
          <!-- <div>
            Покрытие
            Краска
          </div> -->
          <div>
            Цвет
            Стальной с зелено-голубым отливом
          </div>
          <div>
            В наличии
          </div>
          <p style="color: var(--dark)">{{ product }}</p>
          <br>
        </div>

      </div>

      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis
        corrupti asperiores nihil laboriosam ipsa eligendi dolorempedit, vitae
        porro! Asperiores beatae dolorem similique officia provident maiores
        obcaecati saepe incidunt natus, rem animi? Quam recusandae illo
        consequuntur ea accusantium ipsam voluptatum, distinctio maiores
        corrupti totam libero ex quae quibusdam sit provident officiis esse
        veniam autem nesciunt cum? Sapiente officia, magnam error similique
        dolore iusto iure. Laudantium, dolor blanditiis. Sed similique aliquid
        consectetur et alias eos! Ex in incidunt vero reprehenderit sit? Non
        amet laborum aspernatur beatae iusto doloremque vitae iste provident,
        aut mollitia culpa quod omnis reiciendis, hic asperiores. Hic
        reiciendis, iste nemo tempore beatae aliquid officiis, ipsum ducimus
        dignissimos provident iure eligendi perferendis aut vitae magnam
        repellendus magni quos, incidunt voluptatem illo odio. Dolores culpa
        tempore delectus magnam fuga, optio officia incidunt aliquam porro
        mollitia, harum expedita illo molestias quidem aperiam repellat
        consectetur tempora eos natus accusantium autem animi quibusdam a
        assumenda! Ipsum sint temporibus, voluptatibus, quae odio ad harum
        adipisci labore veniam voluptate, beatae ut delectus aut modi iure
        eligendi assumenda asperiores. Inventore quae ex, laborum, explicabo
        eveniet molestiae soluta maxime assumenda deserunt ad doloribus
        laudantium magnam facere! Iure sunt tempore dolorum cum laboriosam,
        deleniti dolore saepe cupiditate, at debitis molestiae quae
        reprehenderit sit dolores explicabo quod veritatis consequatur vel
        tenetur a omnis aut? Magni commodi, eum inventore fugit vero porro
        maxime aut nobis amet cum ducimus vitae eaque, nemo ab deserunt quae
        possimus deleniti, sunt sed repellat veniam. Necessitatibus, consequatur
        tempore sapiente aliquam animi reprehenderit minus laboriosam esse
        voluptate dignissimos in iusto similique, labore numquam cupiditate
        praesentium, asperiores dolore aut eum officiis quibusdam fugit non a.
        Libero dignissimos sequi excepturi reprehenderit! Repudiandae velit
        accusamus cum, nihil tempora, recusandae fugit soluta nisi facere
        assumenda ex non quas obcaecati aliquid suscipit iusto sapiente eaque
        porro! Officia neque veritatis ratione tempora. Placeat neque quos quas
        maxime illo nobis, saepe vel, nesciunt, doloribus consequuntur sequi est
        porro officiis quod facilis soluta? Eligendi earum eos, repudiandae
        provident magnam incidunt consectetur. Quaerat, magnam. Recusandae, quod
        mollitia? Corrupti nisi reprehenderit cum, neque natus placeat nesciunt
        nulla ab rem quia, esse inventore iure ut repudiandae repellendus ullam
        sit pariatur, magni exercitationem alias ex. Debitis rerum mollitia quo
        minima, voluptatum tempora laudantium ea magnam eum corporis fuga enim
        reiciendis nam. Fugiat eveniet nihil inventore nulla? Delectus animi
        quam eveniet, quasi, illum dicta ea, suscipit nesciunt nam fugiat
        inventore dolorum! Et nisi repellendus error quibusdam, impedit,
        suscipit expedita dolorem est odit tenetur recusandae nobis hic, officia
        totam sunt in minima modi sed neque. Deserunt ipsa inventore nisi
        accusantium laudantium? Fuga repellendus facere deserunt mollitia natus
        itaque beatae. Unde rerum temporibus illum sequi ex perferendis
        molestias saepe, doloribus itaque quia explicabo nemo, fugit excepturi
        ducimus sint optio assumenda? Illum cupiditate quia eius beatae, id
        dolorum dolor iste facilis nisi aspernatur veritatis veniam
        reprehenderit incidunt natus consequatur velit libero, odit voluptatum
        optio quidem accusantium dolorem. Quia nihil corporis qui et, porro
        nesciunt, cumque officiis eius sed accusantium, rem consequuntur cum
        possimus doloribus? Assumenda delectus sapiente iste dicta soluta in,
        blanditiis voluptatibus necessitatibus quae? Dolorem alias numquam,
        debitis, a ad ex optio atque obcaecati odit perspiciatis consequatur rem
        non iste accusamus labore ratione corporis ut pariatur corrupti possimus
        quos. Ipsa eos ex ratione neque minus quaerat, odio beatae, eius,
        impedit dolores perspiciatis sunt a id nam officia adipisci laudantium
        molestias. Et laborum eligendi aspernatur! Minima velit, dicta
        doloremque iste tempore commodi ratione. Quas asperiores in voluptatum
        fugiat quibusdam ipsa ipsam quis harum debitis delectus sapiente autem
        nesciunt praesentium exercitationem consequuntur excepturi aspernatur
        est nobis, eos quo, maiores, obcaecati dolor omnis dolores. Optio sed
        soluta, et voluptatibus, atque deserunt eius sint sit doloribus, ad
        reprehenderit maiores molestias ut facilis dolore itaque molestiae
        laudantium culpa! Ratione aliquam ipsam non ad tenetur hic enim unde vel
        reiciendis, vitae modi dolores velit assumenda! Optio quam iste quasi
        magni rem non et culpa consectetur cum explicabo a, repudiandae aut eius
        tempora. Molestias, dolor ducimus provident vel quas iusto cupiditate
        ipsum exercitationem quod eius? Repudiandae magni vel maxime quia error
        eius, dignissimos officia minus a, impedit voluptatibus doloribus
        aliquid! Saepe hic, quo autem placeat et accusantium delectus laborum
        neque, aperiam quos eum illo sed ipsam quidem eos, libero pariatur
        voluptatum! Quasi aliquam quo provident earum ab iusto maiores unde sunt
        nesciunt necessitatibus! Perspiciatis numquam aliquid ea corrupti
        distinctio, quisquam neque voluptatibus cumque quam delectus repudiandae
        doloremque ipsam nesciunt consequatur nobis fugiat laudantium veniam,
        quis velit magnam est. Labore rem quos cupiditate eius ad earum saepe
        minima deleniti temporibus dicta voluptas atque, odio mollitia explicabo
        id sint quia culpa quidem! Mollitia, aliquam voluptates consequatur
        aliquid dolorum sed quaerat! Atque maiores tempore tempora illo? Ex
        repudiandae modi error aliquam iste sed assumenda dolor eveniet nisi,
        quisquam sint perspiciatis dignissimos quos. Omnis quas eveniet sunt
        necessitatibus tempora itaque voluptatum perferendis iure et natus quos,
        totam repudiandae reiciendis, officia, nam rem doloribus repellendus!
        Corrupti deleniti tempore, sit magnam beatae neque enim aut aliquid
        animi facere fugit distinctio similique veniam obcaecati ratione ad non
        ullam? Et quia placeat necessitatibus ducimus. Soluta rem, consequuntur
        quisquam, dolorem magnam recusandae accusamus quis eveniet expedita
        eaque corrupti facere dolore, assumenda sed maxime facilis nam ratione
        vero? Vel, beatae? Placeat nihil ut sed quam maxime corporis expedita
        porro laboriosam repellat rem. Natus deleniti voluptatem sapiente,
        facilis reiciendis eaque voluptatum praesentium ducimus ullam
        accusantium molestias ea laboriosam nihil aliquam quae laudantium
        architecto, quisquam similique modi odit quia! Qui, aut perferendis
        quod, dicta maiores reprehenderit totam facere repudiandae accusamus
        blanditiis temporibus animi ab soluta. Sint ducimus ut exercitationem
        quae officia, eligendi expedita distinctio eaque laborum ipsam tempore
        ad vero nostrum dolores deserunt dicta fugiat consectetur. Molestiae
        deserunt quia quo ipsum? Repellat recusandae nulla voluptatem accusamus
        officiis rem iste, unde, pariatur ex delectus quas suscipit optio
        laborum quaerat saepe eum minus cupiditate distinctio voluptatibus, nisi
        adipisci expedita omnis. Ea accusantium quibusdam molestias laborum
        perspiciatis itaque eaque praesentium molestiae, laboriosam similique
        explicabo reiciendis. Error dolorem nemo fugit sit temporibus! Facilis,
        eveniet. Animi non fugit quisquam sed molestias ullam minus error
        reiciendis excepturi! Ad quis repellat nulla, eum impedit nesciunt
        maxime necessitatibus temporibus ab aliquam error et quae excepturi
        enim, nemo quia hic sequi explicabo dicta laboriosam quam eos harum
        placeat molestias? Vitae vero aut cum alias facere enim. Incidunt
        consectetur recusandae eum
      </p>

      <!--  -->
      <div style="display: flex; margin-top: 5rem; align-items: center;">
        <input type="checkbox" />
        <div
          style="
            width: 2rem;
            height: 2rem;
            background-color: var(--dark);
            border-radius: 100%;
          "
        ></div>
        <p>Защитная сумка</p>
        <p>2 500 <span v-if="currency === 'rub'">₽</span></p>
      </div>
      <div style="display: flex; margin-top: 1rem; align-items: center;">
        <input type="checkbox" />
        <div
          style="
            width: 2rem;
            height: 2rem;
            background-color: var(--dark);
            border-radius: 100%;
          "
        ></div>
        <p>Палочки для игры</p>
        <p>2 500 <span v-if="currency === 'rub'">₽</span></p>
      </div>
    </div>

    <div style="max-width: 1200px; margin: 0 auto; padding: 3rem 0; display: flex; align-items: center;">
      <div v-for="(item, index) in dilerOffer" :key="index">

        <!--  -->
        <div class="discount-btn">
          {{ item.productQty }} шт. <span style="color: gray">-{{ item.dilerDiscount }}%</span>
        </div> 
        <!--  -->
        <div>
          {{ productPrice(product.currentPrice, item.dilerDiscount, item.productQty) }}
        </div>
      </div>
    </div>

    <!-- РАЗДЕ ЛДЛЯ ДИЛЕРОВ -->
    <div style="height: 100vh; background-color: rgba(0, 0, 0, 0.5);">

      <!--  -->
      <div style="max-width: 1200px; margin: 0 auto; padding: 3rem 0;">
        <h2 style="color: white;">Для оптовиков / партнеров / дилеров.</h2>
        <p style="color: black;"> Ты оптовик? 30% от цены</p>
        <img src="/img/Безымянный.jpg" alt="">
      </div>
    </div>

    <!--Общая сумма заказа  -->
    <div
      style="position: fixed; top: 0; right: 2rem; background-color: red; z-index: 999999"
    >
      <div>
        <p>Обшая сумма:</p>
        <p style="font-weight: bold;">
          37 500 <span v-if="currency === 'rub'">₽</span>
        </p>
      </div>
    </div>
  </main>
</template>

<script setup>
import { useProductsStore } from "../../stores/products";
const route = useRoute();

const productsStore = useProductsStore();

const product = productsStore.products.find(
  (item) => item.route === route.params.id
);

const currency = computed(() => {
  return productsStore.currency;
});

useServerSeoMeta({
  title: "Unidrum by Gleb Rudakov",
  ogTitle: `${product.model}`,
  description: "Музыкальный инструмент unidrum",
  ogDescription:
    "Музыкальный инструмент unidrum, Создаю музыкальные инструменты",
  ogImage: "https://example.com/image.png",
  twitterCard: "summary_large_image",
});
useHead({
  htmlAttrs: {
    lang: "en",
    // charset: 'utf-8',
    // style: 'font-size: 13px'
  },
  meta: [
    { charset: "utf-8" },
    { name: "viewport", content: "width=device-width, initial-scale=1" },
  ],
  link: [
    { rel: "icon", type: "image/x-icon", href: "/favicon.ico" },
    // { rel: 'sitemap', type: 'application/xml', href: 'https://localhost/sitemap.xml' }
  ],
});

// 
 const dilerOffer = [
   {
     productQty: 2,
     dilerDiscount: 30    
  },
  {
    productQty: 3,
    dilerDiscount: 20
  },
  {
    productQty: 5,
    dilerDiscount: 30 
  },
  {
    productQty: 10,
    dilerDiscount: 40
  },
 ]

 //
 const productPrice = (productCurrentPrice, dilerDiscount, productQty) => {
  let discountInCurrency = product.currentPrice / 100 * dilerDiscount
  if(productCurrentPrice === 'Под заказ') {
    return product.currentPrice
  } else {
    return `Цена розница: ${product.currentPrice} Цена дилера: ${product.currentPrice - discountInCurrency} Экономия: ${discountInCurrency}, Цена за 1шт: ${product.currentPrice - (product.currentPrice / 100 * dilerDiscount)}, Итого: ${productQty * (product.currentPrice - discountInCurrency)}`
  }
 }
</script>

<style scoped>
  .discount-btn {
    background-color: white;
    -webkit-box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);
    -moz-box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);
    box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.2);
    border-radius: 2rem;
    padding: 1rem;
  }
  .discount-btn:hover {
    box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.4);
    -webkit-box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.4);
    -moz-box-shadow: 4px 4px 8px 0px rgba(34, 60, 80, 0.4);
    cursor: pointer;
  }
</style>
